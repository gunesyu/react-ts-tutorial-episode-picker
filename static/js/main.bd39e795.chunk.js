(this["webpackJsonpbreaking-bad-episode-picker"]=this["webpackJsonpbreaking-bad-episode-picker"]||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),s=n.n(c),i=(n(15),n(4)),o=n.n(i),u=n(8),l={episodes:[],favorites:[],list:"episodes"},d=Object(a.createContext)(l);function p(e){var t=e.count?r.a.createElement("span",{onClick:e.clickHandler},"- (",e.count,") <toggle>"):null;return r.a.createElement("header",null,r.a.createElement("h1",null,"Breaking Bad"),r.a.createElement("h6",null,"Pick Your Favorite Episodes ",t))}var f=function(){return r.a.createElement("p",null,"Loading ...")},E=(n(17),Object(a.lazy)((function(){return n.e(3).then(n.bind(null,19))})));var b=function(){var e=Object(a.useContext)(d),t=e.state,n=e.dispatch;Object(a.useEffect)((function(){0===t.episodes.length&&c()}));var c=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.tvmaze.com/singlesearch/shows?q=breaking-bad&embed=episodes");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",n({type:"FETCH_EPISODES",payload:a._embedded.episodes}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{count:t.favorites.length,clickHandler:function(){return n({type:"CHANGE_LIST_TYPE"})}}),r.a.createElement("section",null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(f,null)},r.a.createElement(E,{episodes:t[t.list],favorites:t.favorites,toggleFav:function(e){var a=t.favorites.includes(e)?"REMOVE_FAVORITE":"ADD_FAVORITE";return n({type:a,payload:e})}}))))},v=n(9),O=n(5),m=n(1);var h=function(e,t){var n=[],a=[],r="";switch(t.type){case"FETCH_EPISODES":return n=t.payload,Object(m.a)(Object(m.a)({},e),{},{episodes:n});case"ADD_FAVORITE":return a=[].concat(Object(O.a)(e.favorites),[t.payload]),Object(m.a)(Object(m.a)({},e),{},{favorites:a});case"REMOVE_FAVORITE":return a=Object(O.a)(e.favorites.filter((function(e){return e.id!==t.payload.id}))),Object(m.a)(Object(m.a)({},e),{},{favorites:a});case"CHANGE_LIST_TYPE":return r="episodes"===e.list?"favorites":"episodes",Object(m.a)(Object(m.a)({},e),{},{list:r});default:return e}};function j(e){var t=Object(a.useReducer)(h,l),n=Object(v.a)(t,2),c=n[0],s=n[1];return r.a.createElement(d.Provider,{value:{state:c,dispatch:s}},e.children)}s.a.render(r.a.createElement(j,null,r.a.createElement(b,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.bd39e795.chunk.js.map